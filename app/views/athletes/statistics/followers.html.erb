<%= turbo_frame_tag 'followers_list' do %>
  <h2 class="accordion-header" id="flush-followers">
    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFollowers" aria-expanded="false" aria-controls="flush-collapseFollowers">
      <span class="badge text-light bg-primary me-3" id="followers-counter"><%= @athlete.followers.size %></span>
      <%= t 'athletes.show.followers' %>
    </button>
  </h2>
  <div id="flush-collapseFollowers" class="accordion-collapse collapse" aria-labelledby="flush-followers" data-bs-parent="#accordionPersonalBest">
    <div class="accordion-body">
      <div class="list-group list-group-flush" id="followers">
        <%=
          render(
            partial: 'friendships/friend',
            collection: @athlete.followers.includes(:going_to_event, user: { image_attachment: :blob }).order(:name),
            locals: { is_friends_tab: false },
          )
        %>
      </div>
    </div>
  </div>
<% end %>
