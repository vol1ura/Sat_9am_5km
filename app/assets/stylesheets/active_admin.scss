// Sass variable overrides must be declared before loading up Active Admin's styles.

// To view the variables that Active Admin provides, take a look at
// `app/assets/stylesheets/active_admin/mixins/_variables.scss` in the
// Active Admin source.

// For example, to change the sidebar width:
// $sidebar-width: 242px;
@use "sass:color";

$primary-color: #2a2951 !default;
$secondary-color: #a0a0a0 !default;
$table-stripe-color: color.adjust($primary-color, $lightness: 70%) !default;
$link-color: #144469 !default;
$text-color: #0f0f0f !default;
$error-color: #d63384 !default;
$breadcrumbs-color: $link-color !default;
$table-error-color: color.adjust($error-color, $lightness: 25%);

// Active Admin's got SASS!
@import "active_admin/mixins";
@import "active_admin/base";
@import "activeadmin/quill_editor/quill.snow";
@import "activeadmin/quill_editor_input";
@import "active_admin/searchable_select";


body {
  font-size: 82%;
}

.suggestions {
  position: absolute;
  cursor: pointer;
  z-index: 100;
  opacity: 0.91;
  background-color: #eee;
  border-radius: 0 0 4px 4px;
  top: 100%;
  left: 0;
  right: 0;
  overflow: hidden auto;
  box-shadow: 0 0 10px #818181;
}

.suggestions li {
  padding: 5px 10px;
}

.suggestions li:first-child {
  border-top: none !important;
}

.suggestions li:hover {
  background-color: #ddd;
}

.suggestions li.active {
  background-color: #54528b !important;
  color: #fff;
}


.admin-utilities {
  .form-label { font-weight: 600; }
  .btn-group .btn { flex: 1 1 auto; margin-right: 8px; }
  .btn-group .btn:last-child { margin-right: 0; }
  .btn-check:checked + .btn {
    background-color: $primary-color;
    color: #fff;
    border-color: $primary-color;
  }
  small.text-muted { font-size: 0.9rem; }
}

.autocomplete {
  position: relative;
  margin: 4px 10px;
}

.autocomplete .query-field {
  width: 100%;
}

.img-hint {
  max-width: 60px;
  max-height: 60px;
  object-fit: scale-down;
}

.img-badge {
  max-width: 100%;
  max-height: 200px;
  object-fit: scale-down;
}

.warning-box {
  background-color: #fff3cd;
  padding: 1em;
  border-radius: 4px;
}

tr.odd,
tr.even {
  &.athlete-error {
    td.col-athlete, td.col-name, td.col-role {
      background-color: $table-error-color;
    }
  }
  td.col-position,
  td.col-total_time {
    &.error {
      background-color: $table-error-color;
    }
  }
}

.ui-datepicker-calendar td:nth-child(6) {
  background: #ffb9f6;
}

/* Utilities panel tweaks: cleaner spacing, unified controls and disabled appearance */
.admin-utilities {
  /* subtle card feel inside ActiveAdmin panel */
  .panel_contents, .panel { padding: 1rem 1.25rem; }

  .form-label { font-weight: 600; margin-bottom: .25rem; }

  /* ensure selects and inputs fill their columns consistently */
  .form-select, select, input[type="text"], .query-field {
    width: 100%;
    min-height: 38px;
    padding: .375rem .5rem;
    border-radius: .35rem;
    border: 1px solid #d0d0d0;
    background: #fff;
  }

  /* consistent button sizing and softened look */
  .btn {
    border-radius: .45rem;
    padding: .45rem .75rem;
    box-shadow: none;
  }

  /* full-width buttons in column layouts look better */
  .w-100 { width: 100% !important; }

  /* disabled look for buttons/inputs inside this card */
  button[disabled], input[disabled], .btn[disabled], .btn:disabled {
    opacity: .6;
    cursor: not-allowed;
    filter: grayscale(.02);
  }

  /* tighten spacing between rows in the utilities panel */
  /* increase vertical spacing so the utilities block has more "air" */
  .row.g-3 { margin-bottom: 1.25rem; }

  /* ensure standalone forms / partial containers have consistent bottom margin */
  form.mb-4, .mb-4 { margin-bottom: 1.25rem !important; }

  /* small helper text sizing */
  small.text-muted { font-size: 0.9rem; color: #666; }
}

/* Utilities grid & card layout */
.utilities-grid { margin-top: .5rem; }
.utilities-grid .col-md-6 { margin-bottom: 1.25rem; }

.utility-card {
  background: #fff;
  border: 1px solid #e6e6e6;
  border-radius: 6px;
  padding: 1rem;
  min-height: 170px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

.utility-card .utility-form .btn {
  width: 100%;
}

/* Make the card's helper text slightly less prominent */
.utility-card small.text-muted { color: #6b6b6b; font-size: .92rem; }
